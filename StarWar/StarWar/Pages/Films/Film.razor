@page "/film/{id:int}"
@inject IMovieService _service
<PageTitle>Films</PageTitle>

    <FilmComponent Model="@Movie"></FilmComponent>

@code {
    [Parameter]
    public int Id { get; set; }
    public MovieViewModel Movie { get; set; } = new();
    public string Erro { get; set; } = "";

    public bool IsDone { get; set; } = false;

    protected override async Task OnInitializedAsync()
    {
        IsDone = false;
        try
        {
            if (Id == 0)
                return;
            Movie = await _service.GetById(Id);
            IsDone = true;
        }
        catch(Exception ex)
        {
            IsDone = false;
            Erro = ex.Message;
        }
    }

}
